<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; connect-src 'self' http://localhost:* ws://localhost:*">
    <title>TMG IO-Link Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-content">
            <h1>TMG IO-Link Interface</h1>
            <div class="header-info">
                <span id="app-version" class="badge">v0.0.0</span>
                <span id="connection-status" class="badge status-disconnected">Disconnected</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="app-main">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="nav-menu">
                <button class="nav-item active" data-view="dashboard">
                    <span class="nav-label">Dashboard</span>
                </button>
                <button class="nav-item" data-view="masters">
                    <span class="nav-label">Masters</span>
                </button>
                <button class="nav-item" data-view="devices">
                    <span class="nav-label">Devices</span>
                </button>
                <button class="nav-item" data-view="data">
                    <span class="nav-label">Process Data</span>
                </button>
                <button class="nav-item" data-view="settings">
                    <span class="nav-label">Settings</span>
                </button>
            </nav>
        </aside>

        <!-- Content Area -->
        <section class="content">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="view active">
                <h2>System Overview</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Connected Masters</h3>
                        <p class="stat-value" id="master-count">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Active Devices</h3>
                        <p class="stat-value" id="device-count">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Data Rate</h3>
                        <p class="stat-value" id="data-rate">0 Hz</p>
                    </div>
                    <div class="stat-card">
                        <h3>Server Status</h3>
                        <p class="stat-value" id="server-status">Checking...</p>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="discover-btn" class="btn btn-primary">Discover Masters</button>
                    <button id="refresh-btn" class="btn btn-secondary">Refresh</button>
                </div>

                <div class="log-section">
                    <h3>Activity Log</h3>
                    <div id="activity-log" class="log-box"></div>
                </div>
            </div>

            <!-- Masters View -->
            <div id="masters-view" class="view">
                <h2>IO-Link Masters</h2>
                <div id="masters-list" class="list-container">
                    <p class="placeholder">Click "Discover Masters" to find connected devices</p>
                </div>
            </div>

            <!-- Devices View -->
            <div id="devices-view" class="view">
                <h2>Connected Devices</h2>
                <div id="devices-list" class="list-container">
                    <p class="placeholder">No devices connected</p>
                </div>
            </div>

            <!-- Process Data View -->
            <div id="data-view" class="view">
                <h2>Process Data Monitor</h2>
                <div id="process-data-container" class="data-monitor">
                    <p class="placeholder">Select a device to monitor process data</p>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view">
                <h2>Settings</h2>
                <div class="settings-container">
                    <div class="setting-group">
                        <h3>Backend Server</h3>
                        <p><strong>URL:</strong> <span id="server-url">Loading...</span></p>
                        <p><strong>Platform:</strong> <span id="platform-info">Loading...</span></p>
                    </div>
                    <div class="setting-group">
                        <h3>Application Info</h3>
                        <p><strong>Electron:</strong> <span id="electron-version">Loading...</span></p>
                        <p><strong>Node.js:</strong> <span id="node-version">Loading...</span></p>
                        <p><strong>Chrome:</strong> <span id="chrome-version">Loading...</span></p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="renderer.js"></script>
</body>
</html>