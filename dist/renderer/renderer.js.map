{"version":3,"file":"renderer.js","mappings":";;;;;;AAAA;;;GAGG;AAEH,gBAAgB;AAChB,MAAM,YAAY,GAAG,8BAA8B,CAAC;AACpD,MAAM,WAAW,GAAG;IAClB,cAAc,EAAE,kBAAkB;CACnC,CAAC;AAEF,QAAQ;AACR,IAAI,cAAc,GAAkB,IAAI,CAAC;AACzC,IAAI,YAAY,GAAkB,IAAI,CAAC;AACvC,IAAI,qBAAqB,GAAW,CAAC,CAAC;AACtC,IAAI,kBAAkB,GAAW,CAAC,CAAC;AAEnC,oDAAoD;AACpD,IAAI,aAA6B,CAAC;AAClC,IAAI,kBAAkC,CAAC;AACvC,IAAI,kBAAkC,CAAC;AACvC,IAAI,kBAAkC,CAAC;AACvC,IAAI,iBAAoC,CAAC;AACzC,IAAI,iBAAoC,CAAC;AACzC,IAAI,qBAAwC,CAAC;AAC7C,IAAI,kBAAwC,CAAC;AAC7C,IAAI,kBAAwC,CAAC;AAC7C,IAAI,kBAAkC,CAAC;AAEvC,wBAAwB;AACxB,MAAM,eAAe,GAAG,GAAG,CAAC;AAC5B,MAAM,kBAAkB,GAA8D,EAAE,CAAC;AAEzF,+EAA+E;AAC/E,yBAAyB;AACzB,+EAA+E;AAE/E,SAAS,cAAc,CAAC,OAAe,EAAE,OAAiD,MAAM;IAC9F,MAAM,KAAK,GAAG;QACZ,SAAS,EAAE,IAAI,IAAI,EAAE;QACrB,OAAO;QACP,IAAI;KACL,CAAC;IAEF,eAAe;IACf,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAElC,iCAAiC;IACjC,IAAI,kBAAkB,CAAC,MAAM,GAAG,eAAe,EAAE,CAAC;QAChD,kBAAkB,CAAC,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED,iBAAiB;IACjB,wBAAwB,EAAE,CAAC;IAE3B,sBAAsB;IACtB,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,CAAC,WAAW,EAAE,KAAK,OAAO,EAAE,CAAC,CAAC;AAC/D,CAAC;AAED,SAAS,wBAAwB;IAC/B,IAAI,CAAC,kBAAkB;QAAE,OAAO;IAEhC,IAAI,kBAAkB,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACpC,kBAAkB,CAAC,SAAS,GAAG,0CAA0C,CAAC;QAC1E,OAAO;IACT,CAAC;IAED,MAAM,OAAO,GAAG,kBAAkB;SAC/B,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;QACb,MAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;QAClD,OAAO;oCACuB,KAAK,CAAC,IAAI;mCACX,IAAI;sCACD,KAAK,CAAC,OAAO;;OAE5C,CAAC;IACJ,CAAC,CAAC;SACD,IAAI,CAAC,EAAE,CAAC,CAAC;IAEZ,kBAAkB,CAAC,SAAS,GAAG,OAAO,CAAC;IAEvC,sCAAsC;IACtC,kBAAkB,CAAC,SAAS,GAAG,CAAC,CAAC;AACnC,CAAC;AAED,+EAA+E;AAC/E,yBAAyB;AACzB,+EAA+E;AAE/E,SAAS,oBAAoB;IAC3B,IAAI,kBAAkB,EAAE,CAAC;QACvB,kBAAkB,CAAC,WAAW,GAAG,qBAAqB,CAAC,QAAQ,EAAE,CAAC;IACpE,CAAC;IAED,IAAI,kBAAkB,EAAE,CAAC;QACvB,kBAAkB,CAAC,WAAW,GAAG,kBAAkB,CAAC,QAAQ,EAAE,CAAC;IACjE,CAAC;IAED,OAAO,CAAC,GAAG,CACT,4BAA4B,qBAAqB,cAAc,kBAAkB,EAAE,CACpF,CAAC;AACJ,CAAC;AAED,+EAA+E;AAC/E,gBAAgB;AAChB,+EAA+E;AAE/E,KAAK,UAAU,YAAY;IACzB,IAAI,CAAC;QACH,YAAY,CAAC,gCAAgC,EAAE,MAAM,CAAC,CAAC;QACvD,cAAc,CAAC,iCAAiC,EAAE,MAAM,CAAC,CAAC;QAE1D,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,YAAY,UAAU,EAAE;YACtD,MAAM,EAAE,KAAK;YACb,OAAO,EAAE,WAAW;SACrB,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACjB,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;YACxC,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,IAAI,QAAQ,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAClE,CAAC;QAED,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrC,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;QAElC,YAAY,CAAC,SAAS,MAAM,CAAC,KAAK,YAAY,EAAE,SAAS,CAAC,CAAC;QAC3D,cAAc,CACZ,cAAc,MAAM,CAAC,KAAK,kBAAkB,MAAM,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAC3E,SAAS,CACV,CAAC;QAEF,OAAO,OAAO,CAAC;IACjB,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,YAAY,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;QACrE,cAAc,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;QACxE,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;QACjD,OAAO,EAAE,CAAC;IACZ,CAAC;AACH,CAAC;AAED,KAAK,UAAU,eAAe,CAAC,UAAkB;IAC/C,IAAI,CAAC;QACH,YAAY,CAAC,yBAAyB,UAAU,KAAK,EAAE,MAAM,CAAC,CAAC;QAC/D,cAAc,CAAC,wBAAwB,UAAU,KAAK,EAAE,MAAM,CAAC,CAAC;QAEhE,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,YAAY,kBAAkB,EAAE;YAC9D,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,WAAW;YACpB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,UAAU,EAAE,CAAC;SACrC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACjB,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;YACxC,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,IAAI,QAAQ,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAClE,CAAC;QAED,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QAErC,oCAAoC;QACpC,qBAAqB,EAAE,CAAC;QACxB,oBAAoB,EAAE,CAAC;QAEvB,YAAY,CAAC,wBAAwB,UAAU,EAAE,EAAE,SAAS,CAAC,CAAC;QAC9D,cAAc,CAAC,oCAAoC,UAAU,EAAE,EAAE,SAAS,CAAC,CAAC;QAE5E,OAAO,MAAM,CAAC,IAAI,CAAC;IACrB,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,YAAY,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;QACtE,cAAc,CACZ,yBAAyB,UAAU,KAAK,KAAK,CAAC,OAAO,EAAE,EACvD,OAAO,CACR,CAAC;QACF,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QACrD,MAAM,KAAK,CAAC;IACd,CAAC;AACH,CAAC;AAED,KAAK,UAAU,YAAY;IACzB,IAAI,CAAC;QACH,YAAY,CAAC,+BAA+B,EAAE,MAAM,CAAC,CAAC;QACtD,cAAc,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;QAElD,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,YAAY,UAAU,EAAE;YACtD,MAAM,EAAE,KAAK;YACb,OAAO,EAAE,WAAW;SACrB,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACjB,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;YACxC,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,IAAI,QAAQ,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAClE,CAAC;QAED,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrC,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;QAElC,8BAA8B;QAC9B,kBAAkB,GAAG,OAAO,CAAC,MAAM,CACjC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE,SAAS,CAChC,CAAC,MAAM,CAAC;QACT,oBAAoB,EAAE,CAAC;QAEvB,YAAY,CAAC,SAAS,MAAM,CAAC,KAAK,YAAY,EAAE,SAAS,CAAC,CAAC;QAC3D,cAAc,CACZ,SAAS,OAAO,CAAC,MAAM,UAAU,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,kBAAkB,UAAU,EACjG,SAAS,CACV,CAAC;QAEF,OAAO,OAAO,CAAC;IACjB,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,YAAY,CAAC,2BAA2B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;QAClE,cAAc,CAAC,4BAA4B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;QACrE,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;QACjD,OAAO,EAAE,CAAC;IACZ,CAAC;AACH,CAAC;AAED,KAAK,UAAU,gBAAgB,CAAC,MAAc,EAAE,IAAY;IAC1D,IAAI,CAAC;QACH,YAAY,CAAC,6BAA6B,MAAM,IAAI,IAAI,KAAK,EAAE,MAAM,CAAC,CAAC;QACvE,cAAc,CAAC,kCAAkC,IAAI,KAAK,EAAE,MAAM,CAAC,CAAC;QAEpE,MAAM,QAAQ,GAAG,MAAM,KAAK,CAC1B,GAAG,YAAY,SAAS,MAAM,IAAI,IAAI,UAAU,EAChD;YACE,MAAM,EAAE,KAAK;YACb,OAAO,EAAE,WAAW;SACrB,CACF,CAAC;QAEF,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACjB,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;YACxC,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,IAAI,QAAQ,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAClE,CAAC;QAED,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrC,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QAEzB,YAAY,CAAC,+BAA+B,MAAM,IAAI,IAAI,EAAE,EAAE,SAAS,CAAC,CAAC;QACzE,cAAc,CACZ,sBAAsB,IAAI,CAAC,IAAI,CAAC,MAAM,oBAAoB,IAAI,EAAE,EAChE,SAAS,CACV,CAAC;QAEF,OAAO,IAAI,CAAC;IACd,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,YAAY,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;QACtE,cAAc,CACZ,6BAA6B,KAAK,CAAC,OAAO,EAAE,EAC5C,OAAO,CACR,CAAC;QACF,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC;QACtD,OAAO,IAAI,CAAC;IACd,CAAC;AACH,CAAC;AAED,+EAA+E;AAC/E,sBAAsB;AACtB,+EAA+E;AAE/E,SAAS,YAAY,CACnB,OAAe,EACf,OAAiD,MAAM;IAEvD,IAAI,CAAC,aAAa,EAAE,CAAC;QACnB,OAAO,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;QAC1C,OAAO;IACT,CAAC;IAED,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,kBAAkB,EAAE,CAAC;IAClD,MAAM,WAAW,GAAG,UAAU,IAAI,EAAE,CAAC;IAErC,aAAa,CAAC,SAAS,GAAG,UAAU,WAAW,EAAE,CAAC;IAClD,aAAa,CAAC,SAAS,GAAG;mCACO,OAAO;gCACV,SAAS;GACtC,CAAC;IAEF,OAAO,CAAC,GAAG,CAAC,YAAY,OAAO,EAAE,CAAC,CAAC;AACrC,CAAC;AAED,SAAS,cAAc,CAAC,OAAc;IACpC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACxB,OAAO,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;QAChD,OAAO;IACT,CAAC;IAED,OAAO,CAAC,GAAG,CAAC,cAAc,OAAO,CAAC,MAAM,UAAU,CAAC,CAAC;IAEpD,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACzB,kBAAkB,CAAC,SAAS;YAC1B,qDAAqD,CAAC;QACxD,OAAO;IACT,CAAC;IAED,kBAAkB,CAAC,SAAS,GAAG,OAAO;SACnC,GAAG,CACF,CAAC,MAAM,EAAE,EAAE,CAAC;iDAC+B,MAAM,CAAC,IAAI;;cAE9C,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,IAAI;;;;2CAID,MAAM,CAAC,IAAI;4CACV,MAAM,CAAC,WAAW;;4EAEc,MAAM,CAAC,IAAI;;;;GAIpF,CACE;SACA,IAAI,CAAC,EAAE,CAAC,CAAC;AACd,CAAC;AAED,SAAS,cAAc,CAAC,OAAc;IACpC,IAAI,CAAC,kBAAkB;QAAE,OAAO;IAEhC,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACzB,kBAAkB,CAAC,SAAS;YAC1B,iDAAiD,CAAC;QACpD,OAAO;IACT,CAAC;IAED,kBAAkB,CAAC,SAAS,GAAG,OAAO;SACnC,GAAG,CACF,CAAC,MAAM,EAAE,EAAE,CAAC;0CACwB,MAAM,CAAC,IAAI;;mBAElC,MAAM,CAAC,IAAI;qCACO,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc;YAChF,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc;;;;sCAI7B,MAAM,CAAC,UAAU;sCACjB,MAAM,CAAC,UAAU;yCACd,MAAM,CAAC,QAAQ;yCACf,MAAM,CAAC,QAAQ;UAC9C,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,+BAA+B,MAAM,CAAC,YAAY,MAAM,CAAC,CAAC,CAAC,EAAE;;8EAEf,MAAM,CAAC,MAAM,MAAM,MAAM,CAAC,IAAI;;;;GAIzG,CACE;SACA,IAAI,CAAC,EAAE,CAAC,CAAC;AACd,CAAC;AAED,SAAS,kBAAkB,CAAC,IAAS;IACnC,IAAI,CAAC,kBAAkB;QAAE,OAAO;IAEhC,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,kBAAkB,CAAC,SAAS;YAC1B,sDAAsD,CAAC;QACzD,OAAO;IACT,CAAC;IAED,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;IAC9C,MAAM,SAAS,GAAG,SAAS;SACxB,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;SAChD,IAAI,CAAC,GAAG,CAAC,CAAC;IAEb,kBAAkB,CAAC,SAAS,GAAG;;;kCAGC,IAAI,CAAC,IAAI;uCACJ,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,kBAAkB,EAAE;;;;;+CAKrC,SAAS;;;;qCAInB,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;;;;qCAIpB,SAAS,CAAC,MAAM;;;;uCAId,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,WAAW,EAAE;;;;GAIjF,CAAC;AACJ,CAAC;AAED,+EAA+E;AAC/E,iBAAiB;AACjB,+EAA+E;AAE/E,KAAK,UAAU,kBAAkB,CAAC,UAAkB;IAClD,IAAI,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,qBAAqB,UAAU,EAAE,CAAC,CAAC;QAC/C,cAAc,GAAG,UAAU,CAAC;QAC5B,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;QAClC,MAAM,WAAW,EAAE,CAAC;IACtB,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;AACH,CAAC;AAED,KAAK,UAAU,kBAAkB,CAC/B,MAAc,EACd,IAAY;IAEZ,cAAc,GAAG,MAAM,CAAC;IACxB,YAAY,GAAG,IAAI,CAAC;IACpB,MAAM,eAAe,EAAE,CAAC;AAC1B,CAAC;AAED,KAAK,UAAU,WAAW;IACxB,MAAM,OAAO,GAAG,MAAM,YAAY,EAAE,CAAC;IACrC,cAAc,CAAC,OAAO,CAAC,CAAC;AAC1B,CAAC;AAED,KAAK,UAAU,WAAW;IACxB,MAAM,OAAO,GAAG,MAAM,YAAY,EAAE,CAAC;IACrC,cAAc,CAAC,OAAO,CAAC,CAAC;AAC1B,CAAC;AAED,KAAK,UAAU,eAAe;IAC5B,IAAI,CAAC,cAAc,IAAI,CAAC,YAAY,EAAE,CAAC;QACrC,YAAY,CAAC,8BAA8B,EAAE,SAAS,CAAC,CAAC;QACxD,cAAc,CAAC,0CAA0C,EAAE,SAAS,CAAC,CAAC;QACtE,OAAO;IACT,CAAC;IAED,MAAM,IAAI,GAAG,MAAM,gBAAgB,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;IAClE,kBAAkB,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAED,+EAA+E;AAC/E,iBAAiB;AACjB,+EAA+E;AAE/E,KAAK,UAAU,UAAU;IACvB,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IAC3C,cAAc,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;IAElD,mBAAmB;IACnB,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAmB,CAAC;IACpE,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAC1C,cAAc,CACG,CAAC;IACpB,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAC1C,cAAc,CACG,CAAC;IACpB,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAC1C,cAAc,CACG,CAAC;IACpB,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CACzC,iBAAiB,CACG,CAAC;IACvB,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CACzC,iBAAiB,CACG,CAAC;IACvB,qBAAqB,GAAG,QAAQ,CAAC,cAAc,CAC7C,sBAAsB,CACF,CAAC;IACvB,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAC1C,cAAc,CACS,CAAC;IAC1B,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAC1C,cAAc,CACS,CAAC;IAC1B,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAC1C,cAAc,CACG,CAAC;IAEpB,IAAI,CAAC,aAAa,EAAE,CAAC;QACnB,OAAO,CAAC,KAAK,CAAC,4CAA4C,CAAC,CAAC;QAC5D,OAAO;IACT,CAAC;IAED,IAAI,CAAC;QACH,YAAY,CAAC,iCAAiC,EAAE,MAAM,CAAC,CAAC;QACxD,cAAc,CAAC,iCAAiC,EAAE,MAAM,CAAC,CAAC;QAE1D,gCAAgC;QAChC,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,MAAM,WAAW,GAAG,EAAE,CAAC;QAEvB,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,WAAW,EAAE,OAAO,EAAE,EAAE,CAAC;YACxD,OAAO,CAAC,GAAG,CAAC,wBAAwB,OAAO,IAAI,WAAW,EAAE,CAAC,CAAC;YAC9D,YAAY,CACV,4BAA4B,OAAO,IAAI,WAAW,GAAG,EACrD,MAAM,CACP,CAAC;YAEF,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,YAAY,SAAS,EAAE;oBACrD,MAAM,EAAE,KAAK;oBACb,OAAO,EAAE,WAAW;iBACrB,CAAC,CAAC;gBAEH,IAAI,QAAQ,CAAC,EAAE,EAAE,CAAC;oBAChB,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;oBACrC,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;wBACnB,SAAS,GAAG,IAAI,CAAC;wBACjB,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;wBAC5C,MAAM;oBACR,CAAC;gBACH,CAAC;YACH,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO,CAAC,KAAK,CAAC,gBAAgB,OAAO,UAAU,EAAE,KAAK,CAAC,CAAC;YAC1D,CAAC;YAED,IAAI,OAAO,GAAG,WAAW,EAAE,CAAC;gBAC1B,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;YAC5D,CAAC;QACH,CAAC;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;YACf,YAAY,CAAC,mDAAmD,EAAE,OAAO,CAAC,CAAC;YAC3E,cAAc,CAAC,kCAAkC,EAAE,OAAO,CAAC,CAAC;YAC5D,OAAO;QACT,CAAC;QAED,YAAY,CAAC,wCAAwC,EAAE,SAAS,CAAC,CAAC;QAClE,cAAc,CAAC,uCAAuC,EAAE,SAAS,CAAC,CAAC;QAEnE,mBAAmB;QACnB,oBAAoB,EAAE,CAAC;QAEvB,2CAA2C;QAC3C,IAAI,iBAAiB,EAAE,CAAC;YACtB,iBAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;gBAC/C,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;gBAC9C,cAAc,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;gBACrD,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC1B,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;oBAC7C,YAAY,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAC;gBAClD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QAED,IAAI,iBAAiB,EAAE,CAAC;YACtB,iBAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;gBAC/C,cAAc,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;gBACrD,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC1B,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;oBAC7C,YAAY,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAC;gBAClD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QAED,IAAI,qBAAqB,EAAE,CAAC;YAC1B,qBAAqB,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;gBACnD,cAAc,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;gBACrD,eAAe,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC9B,OAAO,CAAC,KAAK,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;oBAClD,YAAY,CAAC,6BAA6B,EAAE,OAAO,CAAC,CAAC;gBACvD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QAED,2EAA2E;QAC3E,4CAA4C;QAC5C,2EAA2E;QAE3E,MAAM,UAAU,GAAG,QAAQ,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAC1D,MAAM,KAAK,GAAG,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAEjD,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YAC5B,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;gBACpC,MAAM,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;gBAClD,OAAO,CAAC,GAAG,CAAC,sBAAsB,QAAQ,EAAE,CAAC,CAAC;gBAC9C,cAAc,CAAC,eAAe,QAAQ,OAAO,EAAE,MAAM,CAAC,CAAC;gBAEvD,2CAA2C;gBAC3C,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAE5D,qCAAqC;gBACrC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAE/B,iBAAiB;gBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAEzD,qBAAqB;gBACrB,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,QAAQ,OAAO,CAAC,CAAC;gBAC/D,IAAI,UAAU,EAAE,CAAC;oBACf,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBAEnC,iDAAiD;oBACjD,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;wBAC3B,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;4BAC1B,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;wBAC/C,CAAC,CAAC,CAAC;oBACL,CAAC;yBAAM,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;wBAClC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;4BAC1B,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;wBAC/C,CAAC,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;QAC5D,cAAc,CAAC,yBAAyB,EAAE,SAAS,CAAC,CAAC;QAErD,eAAe;QACf,MAAM,WAAW,EAAE,CAAC;IACtB,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;QAC9C,YAAY,CAAC,0BAA0B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;QACjE,cAAc,CAAC,0BAA0B,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;IACrE,CAAC;AACH,CAAC;AAED,gEAAgE;AAC/D,MAAc,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;AACvD,MAAc,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;AAExD,qDAAqD;AACrD,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAC;AAE1D,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;IACtC,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;IAC3D,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,GAAG,EAAE;QACjD,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QAC7C,UAAU,EAAE,CAAC;IACf,CAAC,CAAC,CAAC;AACL,CAAC;KAAM,CAAC;IACN,OAAO,CAAC,GAAG,CAAC,gDAAgD,CAAC,CAAC;IAC9D,wDAAwD;IACxD,UAAU,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;AAC9B,CAAC","sources":["webpack://tmg-iolink-interface/./src/renderer/renderer.ts"],"sourcesContent":["/**\r\n * Renderer Process - Frontend Logic\r\n * Handles UI interactions and API communication\r\n */\r\n\r\n// Configuration\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\nconst API_HEADERS = {\r\n  'Content-Type': 'application/json',\r\n};\r\n\r\n// State\r\nlet selectedMaster: string | null = null;\r\nlet selectedPort: number | null = null;\r\nlet connectedMastersCount: number = 0;\r\nlet activeDevicesCount: number = 0;\r\n\r\n// UI Elements - will be initialized after DOM loads\r\nlet statusElement: HTMLDivElement;\r\nlet mastersListElement: HTMLDivElement;\r\nlet devicesListElement: HTMLDivElement;\r\nlet processDataElement: HTMLDivElement;\r\nlet refreshMastersBtn: HTMLButtonElement;\r\nlet refreshDevicesBtn: HTMLButtonElement;\r\nlet refreshProcessDataBtn: HTMLButtonElement;\r\nlet masterCountElement: HTMLParagraphElement;\r\nlet deviceCountElement: HTMLParagraphElement;\r\nlet activityLogElement: HTMLDivElement;\r\n\r\n// Activity log settings\r\nconst MAX_LOG_ENTRIES = 100;\r\nconst activityLogEntries: Array<{ timestamp: Date; message: string; type: string }> = [];\r\n\r\n// ============================================================================\r\n// ACTIVITY LOG FUNCTIONS\r\n// ============================================================================\r\n\r\nfunction addActivityLog(message: string, type: 'info' | 'success' | 'error' | 'warning' = 'info'): void {\r\n  const entry = {\r\n    timestamp: new Date(),\r\n    message,\r\n    type,\r\n  };\r\n\r\n  // Add to array\r\n  activityLogEntries.unshift(entry);\r\n\r\n  // Keep only last MAX_LOG_ENTRIES\r\n  if (activityLogEntries.length > MAX_LOG_ENTRIES) {\r\n    activityLogEntries.pop();\r\n  }\r\n\r\n  // Update display\r\n  updateActivityLogDisplay();\r\n\r\n  // Also log to console\r\n  console.log(`[Activity] [${type.toUpperCase()}] ${message}`);\r\n}\r\n\r\nfunction updateActivityLogDisplay(): void {\r\n  if (!activityLogElement) return;\r\n\r\n  if (activityLogEntries.length === 0) {\r\n    activityLogElement.innerHTML = '<p class=\"log-empty\">No activity yet</p>';\r\n    return;\r\n  }\r\n\r\n  const logHtml = activityLogEntries\r\n    .map((entry) => {\r\n      const time = entry.timestamp.toLocaleTimeString();\r\n      return `\r\n        <div class=\"log-entry log-${entry.type}\">\r\n          <span class=\"log-time\">${time}</span>\r\n          <span class=\"log-message\">${entry.message}</span>\r\n        </div>\r\n      `;\r\n    })\r\n    .join('');\r\n\r\n  activityLogElement.innerHTML = logHtml;\r\n\r\n  // Auto-scroll to top (newest entries)\r\n  activityLogElement.scrollTop = 0;\r\n}\r\n\r\n// ============================================================================\r\n// STATS UPDATE FUNCTIONS\r\n// ============================================================================\r\n\r\nfunction updateDashboardStats(): void {\r\n  if (masterCountElement) {\r\n    masterCountElement.textContent = connectedMastersCount.toString();\r\n  }\r\n\r\n  if (deviceCountElement) {\r\n    deviceCountElement.textContent = activeDevicesCount.toString();\r\n  }\r\n\r\n  console.log(\r\n    `Stats updated - Masters: ${connectedMastersCount}, Devices: ${activeDevicesCount}`\r\n  );\r\n}\r\n\r\n// ============================================================================\r\n// API FUNCTIONS\r\n// ============================================================================\r\n\r\nasync function fetchMasters(): Promise<any[]> {\r\n  try {\r\n    updateStatus('Discovering IO-Link Masters...', 'info');\r\n    addActivityLog('Scanning for IO-Link Masters...', 'info');\r\n\r\n    const response = await fetch(`${API_BASE_URL}/masters`, {\r\n      method: 'GET',\r\n      headers: API_HEADERS,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || `HTTP ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const masters = result.data || [];\r\n\r\n    updateStatus(`Found ${result.count} master(s)`, 'success');\r\n    addActivityLog(\r\n      `Discovered ${result.count} IO-Link Master${result.count !== 1 ? 's' : ''}`,\r\n      'success'\r\n    );\r\n\r\n    return masters;\r\n  } catch (error: any) {\r\n    updateStatus(`Error discovering masters: ${error.message}`, 'error');\r\n    addActivityLog(`Failed to discover masters: ${error.message}`, 'error');\r\n    console.error('Failed to fetch masters:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nasync function connectToMaster(deviceName: string): Promise<any> {\r\n  try {\r\n    updateStatus(`Connecting to master: ${deviceName}...`, 'info');\r\n    addActivityLog(`Connecting to master ${deviceName}...`, 'info');\r\n\r\n    const response = await fetch(`${API_BASE_URL}/masters/connect`, {\r\n      method: 'POST',\r\n      headers: API_HEADERS,\r\n      body: JSON.stringify({ deviceName }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || `HTTP ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    // Increment connected masters count\r\n    connectedMastersCount++;\r\n    updateDashboardStats();\r\n\r\n    updateStatus(`Connected to master: ${deviceName}`, 'success');\r\n    addActivityLog(`Successfully connected to master ${deviceName}`, 'success');\r\n\r\n    return result.data;\r\n  } catch (error: any) {\r\n    updateStatus(`Error connecting to master: ${error.message}`, 'error');\r\n    addActivityLog(\r\n      `Connection failed for ${deviceName}: ${error.message}`,\r\n      'error'\r\n    );\r\n    console.error('Failed to connect to master:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync function fetchDevices(): Promise<any[]> {\r\n  try {\r\n    updateStatus('Fetching connected devices...', 'info');\r\n    addActivityLog('Fetching device list...', 'info');\r\n\r\n    const response = await fetch(`${API_BASE_URL}/devices`, {\r\n      method: 'GET',\r\n      headers: API_HEADERS,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || `HTTP ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const devices = result.data || [];\r\n\r\n    // Update active devices count\r\n    activeDevicesCount = devices.filter(\r\n      (d: any) => d.status?.connected\r\n    ).length;\r\n    updateDashboardStats();\r\n\r\n    updateStatus(`Found ${result.count} device(s)`, 'success');\r\n    addActivityLog(\r\n      `Found ${devices.length} device${devices.length !== 1 ? 's' : ''} (${activeDevicesCount} active)`,\r\n      'success'\r\n    );\r\n\r\n    return devices;\r\n  } catch (error: any) {\r\n    updateStatus(`Error fetching devices: ${error.message}`, 'error');\r\n    addActivityLog(`Failed to fetch devices: ${error.message}`, 'error');\r\n    console.error('Failed to fetch devices:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nasync function fetchProcessData(master: string, port: number): Promise<any> {\r\n  try {\r\n    updateStatus(`Reading process data from ${master}:${port}...`, 'info');\r\n    addActivityLog(`Reading process data from port ${port}...`, 'info');\r\n\r\n    const response = await fetch(\r\n      `${API_BASE_URL}/data/${master}/${port}/process`,\r\n      {\r\n        method: 'GET',\r\n        headers: API_HEADERS,\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || `HTTP ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const data = result.data;\r\n\r\n    updateStatus(`Process data retrieved from ${master}:${port}`, 'success');\r\n    addActivityLog(\r\n      `Process data read: ${data.data.length} bytes from port ${port}`,\r\n      'success'\r\n    );\r\n\r\n    return data;\r\n  } catch (error: any) {\r\n    updateStatus(`Error reading process data: ${error.message}`, 'error');\r\n    addActivityLog(\r\n      `Process data read failed: ${error.message}`,\r\n      'error'\r\n    );\r\n    console.error('Failed to fetch process data:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// UI UPDATE FUNCTIONS\r\n// ============================================================================\r\n\r\nfunction updateStatus(\r\n  message: string,\r\n  type: 'info' | 'success' | 'error' | 'warning' = 'info'\r\n): void {\r\n  if (!statusElement) {\r\n    console.warn('Status element not found!');\r\n    return;\r\n  }\r\n\r\n  const timestamp = new Date().toLocaleTimeString();\r\n  const statusClass = `status-${type}`;\r\n\r\n  statusElement.className = `status ${statusClass}`;\r\n  statusElement.innerHTML = `\r\n    <span class=\"status-message\">${message}</span>\r\n    <span class=\"status-time\">${timestamp}</span>\r\n  `;\r\n\r\n  console.log(`[Status] ${message}`);\r\n}\r\n\r\nfunction displayMasters(masters: any[]): void {\r\n  if (!mastersListElement) {\r\n    console.warn('Masters list element not found!');\r\n    return;\r\n  }\r\n\r\n  console.log(`Displaying ${masters.length} masters`);\r\n\r\n  if (masters.length === 0) {\r\n    mastersListElement.innerHTML =\r\n      '<p class=\"empty-state\">No IO-Link Masters found</p>';\r\n    return;\r\n  }\r\n\r\n  mastersListElement.innerHTML = masters\r\n    .map(\r\n      (master) => `\r\n    <div class=\"master-card\" data-device-name=\"${master.name}\">\r\n      <div class=\"master-header\">\r\n        <h3>${master.viewName || master.name}</h3>\r\n        <span class=\"master-status\">Available</span>\r\n      </div>\r\n      <div class=\"master-details\">\r\n        <p><strong>Device Name:</strong> ${master.name}</p>\r\n        <p><strong>Product Code:</strong> ${master.productCode}</p>\r\n      </div>\r\n      <button class=\"btn btn-primary\" onclick=\"window.handleMasterSelect('${master.name}')\">\r\n        Select Master\r\n      </button>\r\n    </div>\r\n  `\r\n    )\r\n    .join('');\r\n}\r\n\r\nfunction displayDevices(devices: any[]): void {\r\n  if (!devicesListElement) return;\r\n\r\n  if (devices.length === 0) {\r\n    devicesListElement.innerHTML =\r\n      '<p class=\"empty-state\">No devices connected</p>';\r\n    return;\r\n  }\r\n\r\n  devicesListElement.innerHTML = devices\r\n    .map(\r\n      (device) => `\r\n    <div class=\"device-card\" data-port=\"${device.port}\">\r\n      <div class=\"device-header\">\r\n        <h4>Port ${device.port}</h4>\r\n        <span class=\"device-status ${device.status?.connected ? 'connected' : 'disconnected'}\">\r\n          ${device.status?.connected ? 'Connected' : 'Disconnected'}\r\n        </span>\r\n      </div>\r\n      <div class=\"device-details\">\r\n        <p><strong>Vendor:</strong> ${device.vendorName}</p>\r\n        <p><strong>Device:</strong> ${device.deviceName}</p>\r\n        <p><strong>Vendor ID:</strong> ${device.vendorId}</p>\r\n        <p><strong>Device ID:</strong> ${device.deviceId}</p>\r\n        ${device.serialNumber ? `<p><strong>Serial:</strong> ${device.serialNumber}</p>` : ''}\r\n      </div>\r\n      <button class=\"btn btn-secondary\" onclick=\"window.handleDeviceSelect('${device.master}', ${device.port})\">\r\n        Read Process Data\r\n      </button>\r\n    </div>\r\n  `\r\n    )\r\n    .join('');\r\n}\r\n\r\nfunction displayProcessData(data: any): void {\r\n  if (!processDataElement) return;\r\n\r\n  if (!data) {\r\n    processDataElement.innerHTML =\r\n      '<p class=\"empty-state\">No process data available</p>';\r\n    return;\r\n  }\r\n\r\n  const dataArray = Array.from(data.data || []);\r\n  const hexString = dataArray\r\n    .map((b: any) => b.toString(16).padStart(2, '0'))\r\n    .join(' ');\r\n\r\n  processDataElement.innerHTML = `\r\n    <div class=\"process-data-display\">\r\n      <div class=\"data-header\">\r\n        <h4>Process Data - Port ${data.port}</h4>\r\n        <span class=\"data-timestamp\">${new Date(data.timestamp).toLocaleTimeString()}</span>\r\n      </div>\r\n      <div class=\"data-content\">\r\n        <div class=\"data-row\">\r\n          <span class=\"data-label\">Hex:</span>\r\n          <span class=\"data-value monospace\">${hexString}</span>\r\n        </div>\r\n        <div class=\"data-row\">\r\n          <span class=\"data-label\">Decimal:</span>\r\n          <span class=\"data-value\">${dataArray.join(', ')}</span>\r\n        </div>\r\n        <div class=\"data-row\">\r\n          <span class=\"data-label\">Length:</span>\r\n          <span class=\"data-value\">${dataArray.length} bytes</span>\r\n        </div>\r\n        <div class=\"data-row\">\r\n          <span class=\"data-label\">Status:</span>\r\n          <span class=\"data-value\">0x${(data.status || 0).toString(16).toUpperCase()}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\n// ============================================================================\r\n// EVENT HANDLERS\r\n// ============================================================================\r\n\r\nasync function handleMasterSelect(deviceName: string): Promise<void> {\r\n  try {\r\n    console.log(`Selecting master: ${deviceName}`);\r\n    selectedMaster = deviceName;\r\n    await connectToMaster(deviceName);\r\n    await loadDevices();\r\n  } catch (error: any) {\r\n    console.error('Error selecting master:', error);\r\n  }\r\n}\r\n\r\nasync function handleDeviceSelect(\r\n  master: string,\r\n  port: number\r\n): Promise<void> {\r\n  selectedMaster = master;\r\n  selectedPort = port;\r\n  await loadProcessData();\r\n}\r\n\r\nasync function loadMasters(): Promise<void> {\r\n  const masters = await fetchMasters();\r\n  displayMasters(masters);\r\n}\r\n\r\nasync function loadDevices(): Promise<void> {\r\n  const devices = await fetchDevices();\r\n  displayDevices(devices);\r\n}\r\n\r\nasync function loadProcessData(): Promise<void> {\r\n  if (!selectedMaster || !selectedPort) {\r\n    updateStatus('Please select a device first', 'warning');\r\n    addActivityLog('No device selected for process data read', 'warning');\r\n    return;\r\n  }\r\n\r\n  const data = await fetchProcessData(selectedMaster, selectedPort);\r\n  displayProcessData(data);\r\n}\r\n\r\n// ============================================================================\r\n// INITIALIZATION\r\n// ============================================================================\r\n\r\nasync function initialize(): Promise<void> {\r\n  console.log('Initializing application...');\r\n  addActivityLog('Application starting...', 'info');\r\n\r\n  // Get DOM elements\r\n  statusElement = document.getElementById('status') as HTMLDivElement;\r\n  mastersListElement = document.getElementById(\r\n    'masters-list'\r\n  ) as HTMLDivElement;\r\n  devicesListElement = document.getElementById(\r\n    'devices-list'\r\n  ) as HTMLDivElement;\r\n  processDataElement = document.getElementById(\r\n    'process-data'\r\n  ) as HTMLDivElement;\r\n  refreshMastersBtn = document.getElementById(\r\n    'refresh-masters'\r\n  ) as HTMLButtonElement;\r\n  refreshDevicesBtn = document.getElementById(\r\n    'refresh-devices'\r\n  ) as HTMLButtonElement;\r\n  refreshProcessDataBtn = document.getElementById(\r\n    'refresh-process-data'\r\n  ) as HTMLButtonElement;\r\n  masterCountElement = document.getElementById(\r\n    'master-count'\r\n  ) as HTMLParagraphElement;\r\n  deviceCountElement = document.getElementById(\r\n    'device-count'\r\n  ) as HTMLParagraphElement;\r\n  activityLogElement = document.getElementById(\r\n    'activity-log'\r\n  ) as HTMLDivElement;\r\n\r\n  if (!statusElement) {\r\n    console.error('Critical: Status element not found in DOM!');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    updateStatus('Connecting to backend server...', 'info');\r\n    addActivityLog('Connecting to backend server...', 'info');\r\n\r\n    // Wait for backend with retries\r\n    let isHealthy = false;\r\n    const maxAttempts = 10;\r\n\r\n    for (let attempt = 1; attempt <= maxAttempts; attempt++) {\r\n      console.log(`Health check attempt ${attempt}/${maxAttempts}`);\r\n      updateStatus(\r\n        `Connecting to server... (${attempt}/${maxAttempts})`,\r\n        'info'\r\n      );\r\n\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/health`, {\r\n          method: 'GET',\r\n          headers: API_HEADERS,\r\n        });\r\n\r\n        if (response.ok) {\r\n          const result = await response.json();\r\n          if (result.success) {\r\n            isHealthy = true;\r\n            console.log('Backend health check SUCCESS');\r\n            break;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(`Health check ${attempt} failed:`, error);\r\n      }\r\n\r\n      if (attempt < maxAttempts) {\r\n        await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      }\r\n    }\r\n\r\n    if (!isHealthy) {\r\n      updateStatus('Backend server is not responding. Please restart.', 'error');\r\n      addActivityLog('Backend server connection failed', 'error');\r\n      return;\r\n    }\r\n\r\n    updateStatus('Backend server connected successfully!', 'success');\r\n    addActivityLog('Backend server connected successfully', 'success');\r\n\r\n    // Initialize stats\r\n    updateDashboardStats();\r\n\r\n    // Setup event listeners for action buttons\r\n    if (refreshMastersBtn) {\r\n      refreshMastersBtn.addEventListener('click', () => {\r\n        console.log('Refresh masters button clicked');\r\n        addActivityLog('Refreshing masters list...', 'info');\r\n        loadMasters().catch((err) => {\r\n          console.error('Error loading masters:', err);\r\n          updateStatus('Failed to load masters', 'error');\r\n        });\r\n      });\r\n    }\r\n\r\n    if (refreshDevicesBtn) {\r\n      refreshDevicesBtn.addEventListener('click', () => {\r\n        addActivityLog('Refreshing devices list...', 'info');\r\n        loadDevices().catch((err) => {\r\n          console.error('Error loading devices:', err);\r\n          updateStatus('Failed to load devices', 'error');\r\n        });\r\n      });\r\n    }\r\n\r\n    if (refreshProcessDataBtn) {\r\n      refreshProcessDataBtn.addEventListener('click', () => {\r\n        addActivityLog('Refreshing process data...', 'info');\r\n        loadProcessData().catch((err) => {\r\n          console.error('Error loading process data:', err);\r\n          updateStatus('Failed to load process data', 'error');\r\n        });\r\n      });\r\n    }\r\n\r\n    // ========================================================================\r\n    // SETUP NAVIGATION (SIDEBAR VIEW SWITCHING)\r\n    // ========================================================================\r\n\r\n    const navButtons = document.querySelectorAll('.nav-item');\r\n    const views = document.querySelectorAll('.view');\r\n\r\n    navButtons.forEach((button) => {\r\n      button.addEventListener('click', () => {\r\n        const viewName = button.getAttribute('data-view');\r\n        console.log(`Switching to view: ${viewName}`);\r\n        addActivityLog(`Switched to ${viewName} view`, 'info');\r\n\r\n        // Remove active class from all nav buttons\r\n        navButtons.forEach((btn) => btn.classList.remove('active'));\r\n\r\n        // Add active class to clicked button\r\n        button.classList.add('active');\r\n\r\n        // Hide all views\r\n        views.forEach((view) => view.classList.remove('active'));\r\n\r\n        // Show selected view\r\n        const targetView = document.getElementById(`${viewName}-view`);\r\n        if (targetView) {\r\n          targetView.classList.add('active');\r\n\r\n          // Auto-load data when switching to certain views\r\n          if (viewName === 'masters') {\r\n            loadMasters().catch((err) => {\r\n              console.error('Error loading masters:', err);\r\n            });\r\n          } else if (viewName === 'devices') {\r\n            loadDevices().catch((err) => {\r\n              console.error('Error loading devices:', err);\r\n            });\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    console.log('Event listeners attached, loading masters...');\r\n    addActivityLog('Initialization complete', 'success');\r\n\r\n    // Initial load\r\n    await loadMasters();\r\n  } catch (error: any) {\r\n    console.error('Initialization error:', error);\r\n    updateStatus(`Initialization failed: ${error.message}`, 'error');\r\n    addActivityLog(`Initialization failed: ${error.message}`, 'error');\r\n  }\r\n}\r\n\r\n// Make functions globally available for inline onclick handlers\r\n(window as any).handleMasterSelect = handleMasterSelect;\r\n(window as any).handleDeviceSelect = handleDeviceSelect;\r\n\r\n// Start the application when DOM is COMPLETELY ready\r\nconsole.log('Renderer script loaded, waiting for DOM...');\r\n\r\nif (document.readyState === 'loading') {\r\n  console.log('DOM still loading, adding event listener...');\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    console.log('DOMContentLoaded event fired!');\r\n    initialize();\r\n  });\r\n} else {\r\n  console.log('DOM already ready, initializing immediately...');\r\n  // Give it a tiny delay to ensure everything is rendered\r\n  setTimeout(initialize, 100);\r\n}"],"names":[],"ignoreList":[],"sourceRoot":""}